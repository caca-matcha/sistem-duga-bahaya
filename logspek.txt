Siap!
Berikut adalah **paket lengkap** untuk project **Sistem Peta Zona Risiko Berbasis Grid (Versi 2)** yang akan dijadikan **dashboard web** dan memiliki **role Admin (SHE)** serta **role Karyawan**.

Semua sudah rapi & siap dipakai ke **Gemini CLI** atau dijadikan dokumen requirement project ğŸ§©ğŸ”¥

---

# ğŸš€ **1. FLOW SISTEM (FLOWCHART LOGIC)**

### **A. High-Level Flow (User + Admin)**

```
User Buka Dashboard
        â†“
Login â†’ Cek Role
        â†“
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚          ROLE ADMIN          â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
 Dashboard Admin (SHE)
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Upload Denah   â”‚ Manage Grid Denah     â”‚ Kelola Penilaian Zona â”‚
â”‚ (opsional)     â”‚ (rows/cols + edit)    â”‚ Form + Warna Otomatis â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
Simpan ke Database
        â†“
Publish Denah Risiko
        â†“
Karyawan Melihat Denah

 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚        ROLE KARYAWAN         â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
 Dashboard Karyawan
        â†“
Pilih Denah â†’ Lihat Zona Risiko â†’ Klik Sel â†’ Detail Area
```

---

# ğŸš§ **B. Flowchart Teknis Grid Editor (Admin)**

```
Admin pilih menu "Kelola Denah"
        â†“
Apakah Upload Background Denah? â†’ (opsional)
        â†“
Admin tentukan jumlah Baris & Kolom
        â†“
Sistem generate grid di canvas
        â†“
Admin klik sel grid
        â†“
Popup Form:
- ID Area
- Nama Area
- Tipe Area (Gedung/Line/Ruang/Zona)
- Nilai Risiko
- Parameter Penilaian
        â†“
Submit
        â†“
Sistem simpan ke DB + Update warna zona
        â†“
Admin Publish Denah
```

---

# ğŸ§  **C. Flow Penilaian Zona (Risk Scoring)**

```
Admin input nilai parameter
         â†“
Sistem hitung skor (formula)
         â†“
Skor dibandingkan threshold
         â†“
Warna otomatis:
 0â€“3   = Hijau
 4â€“7   = Kuning
 8â€“10 = Merah
         â†“
Grid sel update warna realtime
```

---

---

# ğŸ§¬ **2. ERD (Entity Relationship Diagram)**

Berikut skema ERD versi tulisan (bisa digambar ke draw.io atau mermaid):

```
TABLE users
------------
id (PK)
name
email
password
role (admin/karyawan)
created_at
updated_at


TABLE maps (denah pabrik / area / line)
------------
id (PK)
name
type (pabrik/area/line)
parent_id (FK to maps.id)
background_image (nullable)
rows
cols
created_by (FK to users.id)
created_at
updated_at


TABLE cells (setiap grid)
------------
id (PK)
map_id (FK to maps.id)
row_index
col_index
area_id
area_name
area_type
risk_score
zone_color
metadata (json)
created_at
updated_at


TABLE risk_parameters
---------------------
id (PK)
cell_id (FK to cells.id)
parameter_name
value
created_at
updated_at
```

### **Relasi**

* **1 maps â†’ banyak cells**
* **1 cell â†’ banyak parameter risiko**
* **1 maps â†’ banyak maps (jika pabrik â†’ area â†’ line)** lewat parent_id
* **1 user (admin) â†’ banyak maps dibuat**

---

---

# ğŸ¯ **3. FITUR MVP LENGKAP (Dashboard Web)**

## ğŸ”  A. Autentikasi & Role

### **Admin (SHE)**

* CRUD denah pabrik/area/line
* Upload background
* Generate grid
* Edit sel grid
* Set nilai risiko
* Publish versi denah
* Export/Import layout
* Manage karyawan

### **Karyawan**

* Lihat denah zona berwarna
* Klik area â†’ lihat detail risiko
* Cari area berdasarkan nama/ID
* Lihat histori jika tersedia

---

## ğŸ§© B. Fitur Denah (Core Feature)

### **1. Upload Background (opsional)**

* JPG/PNG/SVG
* Menjadi base layer

### **2. Generate Grid**

Admin menentukan:

* Jumlah baris
* Jumlah kolom
* Ukuran sel otomatis

### **3. Editor Grid**

Klik sel:

* Isi nama area
* Isi ID
* Isi tipe area
* Lengkapi parameter risiko
* Edit & delete

### **4. Warna Zona (otomatis berdasarkan nilai)**

* Hijau / Kuning / Merah
* Realtime update

### **5. Navigasi Hierarki Peta**

```
Pabrik â†’ Area â†’ Line
```

Clickable dengan breadcrumb.

---

## ğŸ“Š C. Fitur Penilaian Risiko

* Form input parameter risiko
* Auto kalkulasi skor
* Auto warna zona
* History nilai (opsional)

---

## ğŸ“ˆ D. Dashboard Visualisasi

Untuk karyawan:

* Denah interaktif
* Legend zona warna
* Klik untuk detail
* Mini-map
* Zoom & pan

Untuk admin:

* Total area
* Breakdown by zone color
* Grafik risiko per kategori

---

## ğŸ“¦ E. Fitur Tambahan (Opsional)

* Export PDF denah
* Export Excel data risiko
* Versi denah per semester
* Duplicate layout
* Multi-level access (Supervisor/Manager)

---

# ğŸ¨ **4. Struktur Dashboard (Menu Navigasi)**

## **Admin**

* Dashboard
* Kelola Denah

  * Pabrik
  * Area
  * Line
* Editor Denah (grid)
* Parameter Risiko
* Kelola User
* Laporan & Export

## **Karyawan**

* Dashboard
* Denah Risiko

  * Pabrik
  * Area
  * Line
* Detail Zona

---

# ğŸ”¥ **5. Rekomendasi Teknologi**

### Frontend

* **React.js + Konva.js**
* Tailwind CSS
* Zustand / Redux

### Backend

* **Laravel 11**
* MySQL

### Interaksi Grid

* Konva.js (terbaik)
* Panzoom.js (zoom/pan)

### AI Development

* Gemini CLI
* ChatGPT (refactor + generate logic risiko)

---

# ğŸ Mau Saya Buatkan *Flowchart gambar* + *ERD gambar (diagram lengkap)* + *MVP PDF* juga?

Tinggal bilang, nanti aku buatkan versi visual + versi PDF siap untuk dipakai presentasi ke perusahaan atau sebagai dokumentasi developer.
